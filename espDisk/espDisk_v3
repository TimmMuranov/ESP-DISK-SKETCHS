//https://microcontrollerslab.com/littlefs-introduction-install-esp8266-nodemcu-filesystem-uploader-arduino/ 
// эта инструкция помогла мне загрузить текстовый файл в файловую систему esp8266
#include "LittleFS.h"

#define MAX_BUFFER 256

String fileReader(String in){
  if (!LittleFS.begin()) {
    return "An Error has occurred while mounting LittleFS";
  }
  File file = LittleFS.open(in, "r");
  if (!file) {
    return "Failed to open file for reading";
  }
  String str = "";
  uint8_t buffer[MAX_BUFFER];
  size_t bytesRead;
  do {
    bytesRead = file.readBytes((char *)buffer, sizeof(buffer));
    
    if (bytesRead > 0) {
      str.concat((char*)buffer, bytesRead);
    }
  } while (bytesRead == sizeof(buffer));
  file.close();
  return str;
}

void setup() {
  Serial.begin(115200);
  Serial.println();
  Serial.println(fileReader("h.html"));
}

void loop() {}
